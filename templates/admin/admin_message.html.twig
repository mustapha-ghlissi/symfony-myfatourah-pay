{% extends 'base_admin.html.twig' %}

{% block title %}Backoffice | المكتب الخلفي{% endblock %}


{% block body %}
<div class="container-fluid">

        {% for message in app.flashes('success')  %}

            <p class="col-12 col-sm-10 col-md-8 col-lg-6 alert alert-success text-center mx-auto">{{ message }}</p>
            
        {% endfor %}

<h2 class="display-4 text-center my-5">رسائلك</h2>

    <div class="table-responsive">
         <table class="table table-striped mt-3 me-5">

            <tr class="bg-secondary text-center text-white">
                    <td class="text-light">Last name</td>
                    <td class="text-light">First name</td>
                    <td class="text-light">Email</td>
                    <td class="text-light">Phone</td>
                    <td class="text-light">Message</td>
                    <td class="text-light"> Delete </td>
            </tr>

            {% for oneContact in contacts %}

                <tr class="text-center">
                    <td>{{ oneContact.last }}</td>
                    <td>{{ oneContact.first }}</td>
                    <td>{{ oneContact.email }}</td>
                    <td>{{ oneContact.phone }}</td>
                    <td>{{ oneContact.message }}</td>
                    <td><a class="btn btn-danger" href="{{ path('removeContact', {'id': oneContact.id})}}" onclick="return(confirm('هل تريد حذف هذه الرسالة'));">
                    <i class="bi bi-trash"></i></a></td> 
                </tr> 

            {% endfor %}

        </table>

    </div>
<div class="d-flex justify-content-center">
    {{ knp_pagination_render(contacts,'admin/messages_pagination.html.twig') }}
</div> 

</div>
{% endblock %}
